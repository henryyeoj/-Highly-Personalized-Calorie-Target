<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Calorie Target Calculator</title>
    <style>
        /* --- CSS RESET & BASE STYLES --- */
        :root {
            --primary-color: #3498db; /* Calming Blue */
            --secondary-color: #2c3e50; /* Dark Slate */
            --bg-color: #f4f7f6; /* Very light gray background */
            --card-bg: #ffffff;
            --text-color: #555555;
            --success-color: #2ecc71; /* Green for success */
        }

        body {
            font-family: 'Segoe UI', Roboto, Helvetica, Arial, sans-serif;
            background-color: var(--bg-color);
            color: var(--text-color);
            margin: 0;
            padding: 20px;
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
        }

        /* --- MAIN CARD CONTAINER --- */
        .container {
            background-color: var(--card-bg);
            padding: 40px;
            border-radius: 12px;
            box-shadow: 0 10px 25px rgba(0,0,0,0.05); /* Soft shadow for depth */
            width: 100%;
            max-width: 500px; 
        }

        h1 {
            text-align: center;
            color: var(--secondary-color);
            font-weight: 600;
            margin-bottom: 35px;
            font-size: 1.8rem;
        }
        
        /* Style for section headings */
        h2 {
            color: var(--secondary-color);
            border-bottom: 2px solid #eee;
            padding-bottom: 5px;
            margin-top: 30px;
            margin-bottom: 20px;
            font-size: 1.25rem;
            font-weight: 600; 
        }

        /* Specific color for the Lifestyle Adjustments section title */
        h2:nth-of-type(3) { 
            color: #e74c3c; /* Reddish color for adjustments */
        }

        /* --- FORM ELEMENTS --- */
        .input-group {
            margin-bottom: 25px;
        }
        
        .grid-input {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(130px, 1fr));
            gap: 15px;
        }
        
        /* Specific grid for Height input */
        #height-input-container {
            display: grid;
            grid-template-columns: 1fr 1fr; /* 2 columns for ft and in */
            gap: 10px;
        }

        label {
            display: block;
            margin-bottom: 8px;
            font-weight: 600;
            font-size: 0.95rem;
            color: var(--secondary-color);
            letter-spacing: 0.5px;
        }

        input[type="number"], select {
            width: 100%;
            padding: 12px 15px;
            border: 1px solid #e0e0e0;
            border-radius: 8px;
            box-sizing: border-box;
            font-size: 1rem;
            color: var(--text-color);
            transition: all 0.3s ease;
            background-color: #fafafa;
        }
        
        /* Style for the BMR output display */
        #restingBurnOutput {
            background-color: #e8f5e9; 
            font-weight: bold;
            text-align: center;
            padding: 15px;
            border-radius: 8px;
            border: 1px solid var(--success-color);
            color: var(--secondary-color);
        }
        
        /* Style for the multi-select box */
        #medicalConditions {
            min-height: 120px; 
            padding: 10px 15px;
            border: 1px solid #e0e0e0;
            border-radius: 8px;
            box-sizing: border-box;
            font-size: 1rem;
            color: var(--text-color);
            background-color: #fafafa;
        }
        
        /* Style for the explanatory small text */
        small {
            display: block;
            margin-top: 5px;
            font-size: 0.85rem;
            color: #888;
        }
        
        .explanation {
            margin-top: 5px;
            color: #777;
            font-style: italic;
            font-size: 0.85rem;
            margin-bottom: 10px;
        }

        input:focus, select:focus {
            outline: none;
            border-color: var(--primary-color);
            background-color: #fff;
            box-shadow: 0 0 0 3px rgba(52, 152, 219, 0.1);
        }

        /* --- BUTTON --- */
        button {
            width: 100%;
            padding: 15px;
            background-color: var(--primary-color);
            color: white;
            border: none;
            border-radius: 8px;
            font-size: 1.1rem;
            font-weight: 600;
            cursor: pointer;
            transition: background-color 0.2s;
            letter-spacing: 1px;
        }

        button:hover {
            background-color: #2980b9;
        }

        /* --- RESULT SECTION --- */
        .result-box {
            margin-top: 35px;
            padding-top: 20px;
            border-top: 1px solid #eee;
            display: none;
            animation: fadeIn 0.5s ease-in-out;
        }

        .highlight-stats {
            background-color: #eef7fc;
            padding: 20px;
            border-radius: 10px;
            margin-bottom: 25px;
            text-align: center;
            transition: all 0.3s ease;
        }

        .highlight-stats.adjusted {
            background-color: #e6ffe6; 
            border: 2px solid var(--success-color);
        }

        .highlight-stats p {
            margin: 10px 0;
            font-size: 1.1rem;
        }

        strong {
            color: var(--primary-color);
            font-weight: 700;
            font-size: 1.3rem;
        }
        
        .highlight-stats.adjusted strong {
            color: var(--secondary-color);
            font-size: 1.7rem;
        }
        
        .highlight-stats.adjusted .label {
            color: var(--success-color);
            font-weight: bold;
        }
        
        /* Additional styling for the Adjustment Summary */
        #adjustmentSummary {
            padding: 15px;
            background-color: #fff3e0; 
            border: 1px solid #ffcc80;
            border-radius: 8px;
            margin-bottom: 20px;
            font-size: 1.1rem;
        }
    </style>
</head>
<body>

<div class="container">
    <h1>Calorie Target Calculator</h1>

    <h2>Your Body Info</h2>
    
    <div class="input-group">
        <label>1. Basic Metrics</label>
        <div class="grid-input">
            <div>
                <label for="gender">Gender</label>
                <select id="gender" required>
                    <option value="male">Male</option>
                    <option value="female">Female</option>
                </select>
            </div>
            <div>
                <label for="age">Age (Years)</label>
                <input type="number" id="age" placeholder="e.g., 30" min="15" max="80" required>
            </div>
            <div>
                <label for="weight">Weight (kg)</label>
                <input type="number" id="weight" placeholder="e.g., 75" min="30" required>
            </div>
            
            <div>
                <label for="heightUnit">Height Unit</label>
                <select id="heightUnit" required>
                    <option value="cm">Centimeters (cm)</option>
                    <option value="ft">Feet/Inches (ft/in)</option>
                </select>
            </div>
        </div>
    </div>
    
    <div class="input-group">
        <label id="heightLabel">Height (cm)</label>
        
        <div id="height-metric-input">
            <input type="number" id="height_cm" placeholder="e.g., 175" min="100">
        </div>

        <div id="height-imperial-input" style="display: none;">
            <div id="height-input-container">
                <input type="number" id="height_ft" placeholder="Feet (ft)" min="3" max="7">
                <input type="number" id="height_in" placeholder="Inches (in)" min="0" max="11">
            </div>
        </div>
    </div>
    <div class="input-group">
        <label>BMR (Basal Metabolic Rate):</label>
        <div id="restingBurnOutput">Enter metrics above to calculate BMR.</div>
    </div>

    <h2>Your Daily Movement & Goal</h2>
    
    <div class="input-group">
        <label for="targetGoal">2. Your Goal</label>
        <select id="targetGoal" required>
            <option value="moderate_loss">Moderate Weight Loss (Aim for ~1 lb/week)</option>
            <option value="aggressive_loss">Fast Weight Loss (Aim for ~1.5 lb/week)</option>
            <option value="maintenance">Maintain Weight</option>
            <option value="moderate_gain">Gain Weight (Muscle/Weight Gain)</option>
        </select>
    </div>

    <div class="input-group">
        <label for="activityLevel">3. How Active Are You?</label>
        <p class="explanation">Estimate your typical daily activity, *not* counting gym time.</p>
        <select id="activityLevel" required>
            <option value="sedentary">Not Active (Mostly sitting)</option>
            <option value="light">Lightly Active (Some walking/standing)</option>
            <option value="moderate">Moderately Active (Active job, frequent movement)</option>
            <option value="active">Very Active (Manual labor or high daily movement)</option>
        </select>
    </div>

    <h2>Key Lifestyle Checks</h2>
    <p class="explanation">These checks adjust your calorie target based on common factors that affect hunger and metabolism.</p>
    
    <div class="input-group">
        <label for="foodQuality">4. Food Quality/Protein Intake</label>
        <p class="explanation">Protein-rich, whole food diets burn more calories during digestion.</p>
        <select id="foodQuality">
            <option value="high_protein">High Protein, Whole Foods (Boosts Burn)</option>
            <option value="balanced">Balanced (Neutral Burn)</option>
            <option value="high_processed">High Processed/Low Protein (Slows Burn)</option>
        </select>
    </div>

    <div class="input-group">
        <label for="waterIntake">5. Daily Water Intake (Hydration)</label>
        <p class="explanation">Low water intake can confuse your body, making you feel hungry.</p>
        <select id="waterIntake">
            <option value="ideal">Ideal (≥2 Liters)</option>
            <option value="adequate">Adequate (1–2 Liters)</option>
            <option value="low">Low (<1 Liter)</option>
        </select>
    </div>

    <div class="input-group">
        <label for="sleepQuality">6. Sleep Quality (7-9 hours is best)</label>
        <select id="sleepQuality">
            <option value="optimal">Good (7–9 hours)</option>
            <option value="six_to_seven">Okay (6–7 hours)</option>
            <option value="less_than_six">Poor (<6 hours)</option>
        </select>
    </div>

    <div class="input-group">
        <label for="stressLevel">7. Stress Level</label>
        <select id="stressLevel">
            <option value="low">Low</option>
            <option value="moderate">Moderate</option>
            <option value="high">High</option>
        </select>
    </div>
    
    <div class="input-group">
        <label for="medicalConditions">8. Medical Conditions & Medications (Select all that apply)</label>
        <p class="explanation">Conditions like thyroid issues or medications can slow your metabolism.</p>
        <select id="medicalConditions" multiple size="5">
            <option value="none_apply">None Apply</option>
            <option value="hypothyroid">Thyroid issues</option>
            <option value="pcos">PCOS</option>
            <option value="insulin_resistance">Insulin resistance</option>
            <option value="appetite_meds">Appetite-increasing medications</option>
        </select>
        <small class="text-gray-500">Ctrl/Cmd-click to select multiple options.</small>
    </div>
    
    <button onclick="calculateDeficit()">Calculate My Daily Target</button>

    <div id="resultDisplay" class="result-box">
        
        <div class="highlight-stats">
            <p id="totalDailyEnergyExpenditure"></p>
            <p id="baseCaloriesResult" style="border-top: 1px solid #dceefb; padding-top: 10px;"></p>
        </div>
        
        <div id="adjustmentSummary" class="text-center mb-5 text-lg"></div>

        <div class="highlight-stats adjusted">
            <p><span class="label">YOUR FINAL DAILY CALORIE TARGET</span></p>
            <p id="adjustedCaloriesResult"></p>
        </div>

        <p id="weeksResult" style="text-align: center; font-style: italic; color: #777;"></p>
        
        <div style="margin-top: 30px;">
            <h4>Simple Tips for Success</h4>
            <ul id="tipsList"></ul>
        </div>
    </div>
</div>

<script src="script.js"></script>
</body>
</html>